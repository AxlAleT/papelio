flowchart TB
    subgraph "Recommendation Engine"
        subgraph "Actors"
            users["Users"]
            system["System"]
        end
        
        subgraph "Semantic Scholar-Based Recommendations"
            SSR1["Fetch related articles via recommendation API"]
            SSR2["Circuit breakers (Resilience4j) for fault tolerance"]
            SSR1 --> SSR2
        end
        
        subgraph "Trending Research Alerts"
            TRA1["Highlight popular articles in a field"]
            TRA2["Scheduled API polling with @Scheduled"]
            TRA3["Cache results in Redis"]
            TRA1 --> TRA2
            TRA2 --> TRA3
        end

        subgraph "Collaborative Filtering"
            CF1["Suggest articles based on similar usersâ€™ activity"]
            CF2["Integrate lightweight ML libraries (e.g., Apache Mahout)"]
            CF3["Process data with Spring Batch"]
            CF1 --> CF2
            CF2 --> CF3
        end

        subgraph "Citation Network Visualization"
            CNV1["Show citation relationships between papers"]
            CNV2["Role-based access (@PostAuthorize) for premium users"]
            CNV1 --> CNV2
        end
    end
    
    %% Connections
    users --> SSR1
    users --> TRA1
    users --> CF1
    users --> CNV1
    system --> SSR1
    system --> TRA1
    system --> CF1
    system --> CNV1

    classDef section fill:#e6f3ff,stroke:#7fb1d3,stroke-width:2px
    classDef component fill:#f9f9f9,stroke:#ccc,stroke-width:1px

    class users,system section
    class SSR1,SSR2,TRA1,TRA2,TRA3,CF1,CF2,CF3,CNV1,CNV2 component
